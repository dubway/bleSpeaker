////////////////////////////////
////////////////////////////////
////////////////////////////////

var util = require('util');

var noble = require('noble');

////////////////////////////////
////////////////////////////////
////////////////////////////////

noble.on('stateChange', function(state) {
  console.log('Central Only: ' + state);

  if(state==='poweredOn'){
  	noble.startScanning([], true);
  }
});

////////////////////////////////
////////////////////////////////
////////////////////////////////

var counter = 0;

noble.on('discover',function(periph){
	if(periph.advertisement.localName==='LightBlue'){
		console.log('LightBlue - '+(counter++));
	}
	else if(periph.advertisement.localName==='Speaker'){
		console.log('Speaker - '+(counter++));
	}
});

////////////////////////////////
////////////////////////////////
////////////////////////////////